<%- include('partials/header'); -%>
<body>
    <%- include('partials/navbar'); -%>     
    <div class="container">        
        <form id='dados' onsubmit="enviarsubmit(); return false;">         
        <label for="story">Propriedades 1 users </label>
        <div class="row">  
        <div class="form-group col-md-2">
      <label ="edtid">id</label>
      <input CLASS="form-control" ID="edtid"  name="id" data-fieldname="id" data-type="int" placeholder="id"  value="id" TYPE="text" data-gravar=1> 		          
      </div><div class="form-group col-md-2">
      <label ="edtemail">email</label>
      <input CLASS="form-control" ID="edtemail"  name="email" data-fieldname="email" data-type="varchar(255)" placeholder="email"  value="email" TYPE="text" data-gravar=1> 		          
      </div><div class="form-group col-md-2">
      <label ="edtpassword">password</label>
      <input CLASS="form-control" ID="edtpassword"  name="password" data-fieldname="password" data-type="varchar(255)" placeholder="password"  value="password" TYPE="text" data-gravar=1> 		          
      </div><div class="form-group col-md-2">
      <label ="edtcreatedAt">createdAt</label>
      <input CLASS="form-control" ID="edtcreatedAt"  name="createdAt" data-fieldname="createdAt" data-type="datetime" placeholder="createdAt"  value="createdAt" TYPE="text" data-gravar=1> 		          
      </div><div class="form-group col-md-2">
      <label ="edtupdatedAt">updatedAt</label>
      <input CLASS="form-control" ID="edtupdatedAt"  name="updatedAt" data-fieldname="updatedAt" data-type="datetime" placeholder="updatedAt"  value="updatedAt" TYPE="text" data-gravar=1> 		          
      </div>            
        <button class="btn btn-success">Salvar</button>        
        </div>
        </form>            
    </div>
    <script>    
      function enviarsubmit()     
      {    
          var data =  document.querySelectorAll('input[type=text]');        
          var jJSON={inputs:[]}          
          for (i=0;i<data.length;i++)
          {
            var str=data[i];                        
            jJSON.inputs.push({
                  "id"   : str.id,
                  "valor": document.querySelector('[id="'+str.id+'"]').value,
                  "type" : str.type,
                  "fieldname":str.getAttribute('data-fieldname'),
                  "gravar" :str.getAttribute('data-gravar')
                })            
          }                   
          console.log(jJSON);                              
          axios.post('/users', jJSON)          
          .then(req=>{ 'console.log(req)'  })
          .catch(error => {console.log(error)})  
      }                    

    </script>
</body>
<%- include('partials/footer'); -%>